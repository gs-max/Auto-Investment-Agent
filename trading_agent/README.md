# LangGraph åŠ å¯†è´§å¸è‡ªåŠ¨äº¤æ˜“ Agent (MVP)

## ğŸ“‹ é¡¹ç›®ç®€ä»‹

è¿™æ˜¯ä¸€ä¸ªåŸºäº LangGraph æ¡†æ¶çš„åŠ å¯†è´§å¸è‡ªåŠ¨äº¤æ˜“åŠ©æ‰‹ï¼Œä½¿ç”¨ Hyperliquid SDK è¿›è¡Œäº¤æ˜“ã€‚
è®¾è®¡ç†å¿µï¼š**å®‰å…¨ç¬¬ä¸€ï¼Œå¾ªåºæ¸è¿›**

## ğŸ¯ MVP åŠŸèƒ½

### é˜¶æ®µä¸€ï¼šå¸‚åœºè§‚å¯Ÿæ¨¡å¼ï¼ˆå½“å‰ï¼‰
- âœ… å®æ—¶ä»·æ ¼ç›‘æ§
- âœ… è´¦æˆ·çŠ¶æ€æŸ¥è¯¢
- âœ… LLM å¸‚åœºåˆ†æ
- âœ… äº¤æ˜“å»ºè®®ç”Ÿæˆï¼ˆä¸æ‰§è¡Œï¼‰
- âœ… é£é™©è¯„ä¼°

### é˜¶æ®µäºŒï¼šæ¨¡æ‹Ÿäº¤æ˜“ï¼ˆæœªæ¥ï¼‰
- è™šæ‹Ÿè´¦æˆ·å›æµ‹
- ç­–ç•¥éªŒè¯

### é˜¶æ®µä¸‰ï¼šçœŸå®å°é¢äº¤æ˜“ï¼ˆæœªæ¥ï¼‰
- ä¸¥æ ¼é£æ§
- å°é¢è¯•éªŒ

## ğŸ—ï¸ æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         LangGraph State Machine         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  fetch_market â†’ get_account â†’ analyze   â”‚
â”‚       â†“              â†“          â†“       â”‚
â”‚  risk_check â†’ execute â†’ log_result      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       Hyperliquid Python SDK            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Info API  â”‚  Exchange API              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ“ é¡¹ç›®ç»“æ„

```
trading_agent/
â”œâ”€â”€ README.md                 # æœ¬æ–‡ä»¶
â”œâ”€â”€ requirements.txt          # ä¾èµ–
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ config.json          # APIé…ç½®ï¼ˆéœ€åˆ›å»ºï¼‰
â”‚   â””â”€â”€ strategy_prompt.txt  # LLMç­–ç•¥æç¤ºè¯
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ agent.py             # LangGraph Agentä¸»ç±»
â”‚   â”œâ”€â”€ nodes.py             # çŠ¶æ€æœºèŠ‚ç‚¹
â”‚   â”œâ”€â”€ tools.py             # Hyperliquidå·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ risk_manager.py      # é£é™©ç®¡ç†
â”‚   â””â”€â”€ state.py             # çŠ¶æ€å®šä¹‰
â”œâ”€â”€ logs/                    # äº¤æ˜“æ—¥å¿—
â””â”€â”€ main.py                  # å¯åŠ¨å…¥å£
```

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…ä¾èµ–

```bash
cd trading_agent
pip install -r requirements.txt
```

### 2. é…ç½®

å¤åˆ¶é…ç½®æ–‡ä»¶æ¨¡æ¿ï¼š
```bash
cp config/config.example.json config/config.json
```

ç¼–è¾‘ `config/config.json`ï¼š
```json
{
  "hyperliquid": {
    "account_address": "0xYourAddress",
    "secret_key": "your_private_key",
    "base_url": "https://api.hyperliquid-testnet.xyz"
  },
  "llm": {
    "provider": "deepseek",
    "api_key": "your_deepseek_api_key",
    "base_url": "https://api.deepseek.com",
    "model": "deepseek-chat"
  },
  "risk": {
    "max_position_size": 0.1,
    "max_total_exposure": 1000,
    "enable_execution": false
  }
}
```

### 3. è¿è¡Œï¼ˆè§‚å¯Ÿæ¨¡å¼ï¼‰

```bash
python main.py --mode observe
```

## âš ï¸ å®‰å…¨æç¤º

1. **å…ˆåœ¨æµ‹è¯•ç½‘è¿è¡Œ**ï¼šä½¿ç”¨ `https://api.hyperliquid-testnet.xyz`
2. **è§‚å¯Ÿæ¨¡å¼ä¼˜å…ˆ**ï¼šè®¾ç½® `enable_execution: false`
3. **å°é¢æµ‹è¯•**ï¼šçœŸå®äº¤æ˜“æ—¶è®¾ç½®ä¸¥æ ¼çš„ä»“ä½é™åˆ¶
4. **ä¿æŠ¤ç§é’¥**ï¼šä¸è¦å°† `config.json` æäº¤åˆ° Git

## ğŸ“Š ä½¿ç”¨ç¤ºä¾‹

### è§‚å¯Ÿæ¨¡å¼
```bash
# æ¯5åˆ†é’Ÿåˆ†æä¸€æ¬¡å¸‚åœº
python main.py --mode observe --interval 300
```

### å•æ¬¡åˆ†æ
```bash
python main.py --mode single --coin BTC
```

## ğŸ”§ å¼€å‘è·¯çº¿å›¾

- [x] é¡¹ç›®åˆå§‹åŒ–
- [x] å¸‚åœºæ•°æ®è·å–
- [x] LangGraph çŠ¶æ€æœº
- [x] LLM å†³ç­–èŠ‚ç‚¹ï¼ˆFunction Callingï¼‰
- [x] é£é™©ç®¡ç†ç³»ç»Ÿ
- [x] çœŸå®äº¤æ˜“æ”¯æŒï¼ˆæµ‹è¯•ç½‘ï¼‰
- [ ] å›æµ‹æ¡†æ¶
- [ ] Web ç›‘æ§é¢æ¿
- [ ] å¤šç­–ç•¥æ”¯æŒ

## ğŸ”´ çœŸå®äº¤æ˜“ï¼ˆæµ‹è¯•ç½‘ï¼‰

### å¿«é€Ÿå¯ç”¨

1. **åˆ›å»ºé…ç½®**ï¼š`config/config.testnet.json` å·²å‡†å¤‡å¥½
2. **å¡«å†™ä¿¡æ¯**ï¼šæµ‹è¯•ç½‘åœ°å€ã€ç§é’¥ã€LLM API Key
3. **æµ‹è¯•è¿æ¥**ï¼š`python test_connection.py`
4. **å¯åŠ¨ Agent**ï¼š`python main.py --config config/config.testnet.json`

è¯¦ç»†è¯´æ˜è¯·æŸ¥çœ‹ **[REAL_TRADING_GUIDE.md](REAL_TRADING_GUIDE.md)**

### å®‰å…¨ä¿éšœ

- âœ… Function Calling ç»“æ„åŒ–å†³ç­–
- âœ… å¤šå±‚é£é™©æ£€æŸ¥
- âœ… èµ„é‡‘ä½¿ç”¨é™åˆ¶ï¼ˆmax_usable_capitalï¼‰
- âœ… å°é¢äº¤æ˜“å¼ºåˆ¶ï¼ˆå•ç¬” < $50ï¼‰
- âœ… æµ‹è¯•ç½‘ç¯å¢ƒ

### è¿è¡Œç¤ºä¾‹

```bash
# æµ‹è¯•é…ç½®
python test_connection.py

# å¯åŠ¨çœŸå®äº¤æ˜“ï¼ˆæµ‹è¯•ç½‘ï¼‰
python main.py --config config/config.testnet.json
```

## ğŸ“š å­¦ä¹ èµ„æº

- [Hyperliquid æ–‡æ¡£](https://hyperliquid.gitbook.io/)
- [LangGraph æ–‡æ¡£](https://langchain-ai.github.io/langgraph/)
- [åŠ å¯†è´§å¸äº¤æ˜“åŸºç¡€](å¾…è¡¥å……)

## ğŸ“ License

MIT
